{% extends 'base/base.html' %}

{% block content %}
<div class="card" style="max-width: 600px; margin: 0 auto;">
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
        <h2 style="color: #4a5568;">My Profile</h2>
        <span style="background: #667eea; color: white; padding: 0.5rem 1rem; border-radius: 20px;">
            Role: {{ profile.get_role_display|default:"User" }}
        </span>
    </div>
    
    <form method="post">
        {% csrf_token %}
        
        <!-- User Information (Read-only) -->
        <div style="background: #f7fafc; padding: 1.5rem; border-radius: 8px; margin-bottom: 2rem;">
            <h3 style="color: #4a5568; margin-bottom: 1rem;">Account Information</h3>
            <div style="display: grid; gap: 1rem;">
                <div>
                    <label style="font-weight: 600; color: #4a5568;">Username:</label>
                    <div style="padding: 0.75rem; background: white; border: 1px solid #e2e8f0; border-radius: 6px;">
                        {{ profile.user.username }}
                    </div>
                </div>
                <div>
                    <label style="font-weight: 600; color: #4a5568;">Email:</label>
                    <div style="padding: 0.75rem; background: white; border: 1px solid #e2e8f0; border-radius: 6px;">
                        {{ profile.user.email }}
                    </div>
                </div>
                <div>
                    <label style="font-weight: 600; color: #4a5568;">Member since:</label>
                    <div style="padding: 0.75rem; background: white; border: 1px solid #e2e8f0; border-radius: 6px;">
                        {{ profile.user.date_joined|date:"F d, Y" }}
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Editable Profile Information -->
        <div style="background: #f7fafc; padding: 1.5rem; border-radius: 8px; margin-bottom: 2rem;">
            <h3 style="color: #4a5568; margin-bottom: 1rem;">Profile Information</h3>
            
            <div class="form-group">
                <label for="department">Department:</label>
                <input type="text" name="department" id="department" value="{{ profile.department }}" 
                       placeholder="e.g., Engineering, HR, Sales">
            </div>
            
            <div class="form-group">
                <label for="phone">Phone:</label>
                <input type="text" name="phone" id="phone" value="{{ profile.phone }}" 
                       placeholder="e.g., +1 234 567 8900">
            </div>
            
            <div class="form-group">
                <label for="bio">Bio:</label>
                <textarea name="bio" id="bio" rows="4" placeholder="Tell us about yourself...">{{ profile.bio }}</textarea>
            </div>
        </div>
        
        <!-- Action Buttons -->
        <div style="display: flex; gap: 1rem;">
            <button type="submit" class="btn" style="background: #667eea;">Update Profile</button>
            <a href="{% url 'accounts:dashboard' %}" class="btn" style="background: #6c757d;">Back to Dashboard</a>
        </div>
    </form>
</div>

<style>
    .form-group {
        margin-bottom: 1.5rem;
    }
    .form-group label {
        display: block;
        margin-bottom: 0.5rem;
        font-weight: 600;
        color: #4a5568;
    }
    .form-group input,
    .form-group textarea {
        width: 100%;
        padding: 0.75rem;
        border: 2px solid #e2e8f0;
        border-radius: 6px;
        font-size: 1rem;
        transition: border-color 0.3s;
    }
    .form-group input:focus,
    .form-group textarea:focus {
        outline: none;
        border-color: #667eea;
    }
    .form-group input:disabled {
        background: #f7fafc;
        cursor: not-allowed;
    }
</style>
{% endblock %}